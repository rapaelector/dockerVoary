<script>
    $(function () {
        var columnDefs = window.dataTable.columnDefsResolver([
            'user_email', 'user_lastName', 'user_firstName',
        ]);
        console.info(columnDefs);
        var dtPromise = $('#user-table').initDataTables(
            {{ datatable_settings(datatable)|raw }},
            window.dataTable.buildDataTableConfig(3, [0], {
                columnDefs: columnDefs,
            })
        );
        dtPromise.then(function (dtInstance) {
            try {
                var tableId = dtInstance.table().node().id;
                var formatter = window.dataTable.CellFormatter();
                formatter.format($('#' + tableId));
                window.dataTable.initColumnFilters('#user-table-filters', dtInstance);
            } catch (e) {
                console.warn('error occured ', e);
            }
        });
    });
</script>
